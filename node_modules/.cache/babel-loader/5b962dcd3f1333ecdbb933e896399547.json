{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Typography from'@material-ui/core/Typography';import LabelValue from'./LabelValue';import{useWallet,useWalletPublicKeys}from'../../utils/wallet';import{TOKEN_MINTS}from'@project-serum/serum';var TYPE_LABELS={initializeMint:'Initialize mint',initializeAccount:'Initialize account',transfer:'Transfer',approve:'Approve',revoke:'Revoke',mintTo:'Mint to',closeAccount:'Close account'};var DATA_LABELS={amount:{label:'Amount',address:false,transform:function transform(amount){return amount.toString();}},authorityType:{label:'Authority type',address:false},currentAuthority:{label:'Current authority',address:true},decimals:{label:'Decimals',address:false},delegate:{label:'Delegate',address:true},destination:{label:'Destination',address:true},mint:{label:'Mint',address:true},mintAuthority:{label:'Mint authority',address:true},newAuthority:{label:'New authority',address:true},owner:{label:'Owner',address:true},source:{label:'Source',address:true}};export default function TokenInstruction(_ref){var instruction=_ref.instruction,onOpenAddress=_ref.onOpenAddress;var wallet=useWallet();var _useWalletPublicKeys=useWalletPublicKeys(),_useWalletPublicKeys2=_slicedToArray(_useWalletPublicKeys,1),publicKeys=_useWalletPublicKeys2[0];var type=instruction.type,data=instruction.data;var getAddressValue=function getAddressValue(address){var tokenMint=TOKEN_MINTS.find(function(token){return token.address.equals(address);});var isOwned=publicKeys.some(function(ownedKey){return ownedKey.equals(address);});var isOwner=wallet.publicKey.equals(address);return tokenMint?tokenMint.name:isOwner?'This wallet':(isOwned?'(Owned) ':'')+(address===null||address===void 0?void 0:address.toBase58());};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",style:{fontWeight:'bold'},gutterBottom:true,children:TYPE_LABELS[type]}),data&&Object.entries(data).map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];var dataLabel=DATA_LABELS[key];if(!dataLabel){return null;}var label=dataLabel.label,address=dataLabel.address,transform=dataLabel.transform;return/*#__PURE__*/_jsx(LabelValue,{label:label+'',value:address?getAddressValue(value):transform?transform(value):value,link:address,onClick:function onClick(){return address&&onOpenAddress(value===null||value===void 0?void 0:value.toBase58());}},key);})]});}","map":{"version":3,"sources":["/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/src/components/instructions/TokenInstruction.js"],"names":["React","Typography","LabelValue","useWallet","useWalletPublicKeys","TOKEN_MINTS","TYPE_LABELS","initializeMint","initializeAccount","transfer","approve","revoke","mintTo","closeAccount","DATA_LABELS","amount","label","address","transform","toString","authorityType","currentAuthority","decimals","delegate","destination","mint","mintAuthority","newAuthority","owner","source","TokenInstruction","instruction","onOpenAddress","wallet","publicKeys","type","data","getAddressValue","tokenMint","find","token","equals","isOwned","some","ownedKey","isOwner","publicKey","name","toBase58","fontWeight","Object","entries","map","key","value","dataLabel"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport LabelValue from './LabelValue';\nimport { useWallet, useWalletPublicKeys } from '../../utils/wallet';\nimport { TOKEN_MINTS } from '@project-serum/serum';\n\nconst TYPE_LABELS = {\n  initializeMint: 'Initialize mint',\n  initializeAccount: 'Initialize account',\n  transfer: 'Transfer',\n  approve: 'Approve',\n  revoke: 'Revoke',\n  mintTo: 'Mint to',\n  closeAccount: 'Close account',\n};\n\nconst DATA_LABELS = {\n  amount: { label: 'Amount', address: false, transform: (amount) => amount.toString()},\n  authorityType: { label: 'Authority type', address: false },\n  currentAuthority: { label: 'Current authority', address: true },\n  decimals: { label: 'Decimals', address: false },\n  delegate: { label: 'Delegate', address: true },\n  destination: { label: 'Destination', address: true },\n  mint: { label: 'Mint', address: true },\n  mintAuthority: { label: 'Mint authority', address: true },\n  newAuthority: { label: 'New authority', address: true },\n  owner: { label: 'Owner', address: true },\n  source: { label: 'Source', address: true },\n};\n\nexport default function TokenInstruction({ instruction, onOpenAddress }) {\n  const wallet = useWallet();\n  const [publicKeys] = useWalletPublicKeys();\n  const { type, data } = instruction;\n\n  const getAddressValue = (address) => {\n    const tokenMint = TOKEN_MINTS.find((token) =>\n      token.address.equals(address),\n    );\n    const isOwned = publicKeys.some((ownedKey) => ownedKey.equals(address));\n    const isOwner = wallet.publicKey.equals(address);\n    return tokenMint\n      ? tokenMint.name\n      : isOwner\n      ? 'This wallet'\n      : (isOwned ? '(Owned) ' : '') + address?.toBase58();\n  };\n\n  return (\n    <>\n      <Typography\n        variant=\"subtitle1\"\n        style={{ fontWeight: 'bold' }}\n        gutterBottom\n      >\n        {TYPE_LABELS[type]}\n      </Typography>\n      {data &&\n        Object.entries(data).map(([key, value]) => {\n          const dataLabel = DATA_LABELS[key];\n          if (!dataLabel) {\n            return null;\n          }\n          const { label, address, transform } = dataLabel;\n          return (\n            <LabelValue\n              key={key}\n              label={label + ''}\n              value={address ? getAddressValue(value) : transform ? transform(value) : value}\n              link={address}\n              onClick={() => address && onOpenAddress(value?.toBase58())}\n            />\n          );\n        })}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}