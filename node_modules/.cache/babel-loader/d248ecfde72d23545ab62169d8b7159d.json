{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NameRegistryState = void 0;\n\nvar web3_js_1 = require(\"@solana/web3.js\");\n\nvar borsh_1 = require(\"borsh\");\n\nvar NameRegistryState = /*#__PURE__*/function () {\n  function NameRegistryState(obj) {\n    _classCallCheck(this, NameRegistryState);\n\n    this.parentName = new web3_js_1.PublicKey(obj.parentName);\n    this.owner = new web3_js_1.PublicKey(obj.owner);\n    this.class = new web3_js_1.PublicKey(obj.class);\n  }\n\n  _createClass(NameRegistryState, null, [{\n    key: \"retrieve\",\n    value: function () {\n      var _retrieve = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(connection, nameAccountKey) {\n        var _a, nameAccount, res;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return connection.getAccountInfo(nameAccountKey, 'processed');\n\n              case 2:\n                nameAccount = _context.sent;\n\n                if (nameAccount) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error('Invalid name account provided');\n\n              case 5:\n                res = borsh_1.deserializeUnchecked(this.schema, NameRegistryState, nameAccount.data);\n                res.data = (_a = nameAccount.data) === null || _a === void 0 ? void 0 : _a.slice(this.HEADER_LEN);\n                return _context.abrupt(\"return\", res);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function retrieve(_x, _x2) {\n        return _retrieve.apply(this, arguments);\n      }\n\n      return retrieve;\n    }()\n  }]);\n\n  return NameRegistryState;\n}();\n\nexports.NameRegistryState = NameRegistryState;\nNameRegistryState.HEADER_LEN = 96;\nNameRegistryState.schema = new Map([[NameRegistryState, {\n  kind: 'struct',\n  fields: [['parentName', [32]], ['owner', [32]], ['class', [32]]]\n}]]);","map":{"version":3,"sources":["../src/state.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,IAAA,SAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;IAEa,iB;AAoBX,6BAAY,GAAZ,EAIC;AAAA;;AACC,SAAK,UAAL,GAAkB,IAAI,SAAA,CAAA,SAAJ,CAAc,GAAG,CAAC,UAAlB,CAAlB;AACA,SAAK,KAAL,GAAa,IAAI,SAAA,CAAA,SAAJ,CAAc,GAAG,CAAC,KAAlB,CAAb;AACA,SAAK,KAAL,GAAa,IAAI,SAAA,CAAA,SAAJ,CAAc,GAAG,CAAC,KAAlB,CAAb;AACD;;;;;gGAGC,U,EACA,c;;;;;;;;uBAEwB,UAAU,CAAC,cAAX,CACtB,cADsB,EAEtB,WAFsB,C;;;AAApB,gBAAA,W;;oBAIC,W;;;;;sBACG,IAAI,KAAJ,CAAU,+BAAV,C;;;AAGJ,gBAAA,G,GAAyB,OAAA,CAAA,oBAAA,CAC3B,KAAK,MADsB,EAE3B,iBAF2B,EAG3B,WAAW,CAAC,IAHe,C;AAM7B,gBAAA,GAAG,CAAC,IAAJ,GAAW,CAAA,EAAA,GAAA,WAAW,CAAC,IAAZ,MAAgB,IAAhB,IAAgB,EAAA,KAAA,KAAA,CAAhB,GAAgB,KAAA,CAAhB,GAAgB,EAAA,CAAE,KAAF,CAAQ,KAAK,UAAb,CAA3B;iDAEO,G;;;;;;;;;;;;;;;;;;;;;AAlDX,OAAA,CAAA,iBAAA,GAAA,iBAAA;AACS,iBAAA,CAAA,UAAA,GAAa,EAAb;AAMA,iBAAA,CAAA,MAAA,GAAiB,IAAI,GAAJ,CAAQ,CAC9B,CACE,iBADF,EAEE;AACE,EAAA,IAAI,EAAE,QADR;AAEE,EAAA,MAAM,EAAE,CACN,CAAC,YAAD,EAAe,CAAC,EAAD,CAAf,CADM,EAEN,CAAC,OAAD,EAAU,CAAC,EAAD,CAAV,CAFM,EAGN,CAAC,OAAD,EAAU,CAAC,EAAD,CAAV,CAHM;AAFV,CAFF,CAD8B,CAAR,CAAjB","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NameRegistryState = void 0;\nconst web3_js_1 = require(\"@solana/web3.js\");\nconst borsh_1 = require(\"borsh\");\nclass NameRegistryState {\n    constructor(obj) {\n        this.parentName = new web3_js_1.PublicKey(obj.parentName);\n        this.owner = new web3_js_1.PublicKey(obj.owner);\n        this.class = new web3_js_1.PublicKey(obj.class);\n    }\n    static async retrieve(connection, nameAccountKey) {\n        var _a;\n        let nameAccount = await connection.getAccountInfo(nameAccountKey, 'processed');\n        if (!nameAccount) {\n            throw new Error('Invalid name account provided');\n        }\n        let res = borsh_1.deserializeUnchecked(this.schema, NameRegistryState, nameAccount.data);\n        res.data = (_a = nameAccount.data) === null || _a === void 0 ? void 0 : _a.slice(this.HEADER_LEN);\n        return res;\n    }\n}\nexports.NameRegistryState = NameRegistryState;\nNameRegistryState.HEADER_LEN = 96;\nNameRegistryState.schema = new Map([\n    [\n        NameRegistryState,\n        {\n            kind: 'struct',\n            fields: [\n                ['parentName', [32]],\n                ['owner', [32]],\n                ['class', [32]],\n            ],\n        },\n    ],\n]);\n//# sourceMappingURL=state.js.map"]},"metadata":{},"sourceType":"script"}