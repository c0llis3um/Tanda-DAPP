{"ast":null,"code":"import _classCallCheck from\"/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _get from\"/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";import _getPrototypeOf from\"/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _toConsumableArray from\"/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import*as BufferLayout from'buffer-layout';import{PublicKey,SYSVAR_RENT_PUBKEY,TransactionInstruction}from'@solana/web3.js';export var TOKEN_PROGRAM_ID=new PublicKey('TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA');export var WRAPPED_SOL_MINT=new PublicKey('So11111111111111111111111111111111111111112');export var MEMO_PROGRAM_ID=new PublicKey('Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo');var LAYOUT=BufferLayout.union(BufferLayout.u8('instruction'));LAYOUT.addVariant(0,BufferLayout.struct([BufferLayout.u8('decimals'),BufferLayout.blob(32,'mintAuthority'),BufferLayout.u8('freezeAuthorityOption'),BufferLayout.blob(32,'freezeAuthority')]),'initializeMint');LAYOUT.addVariant(1,BufferLayout.struct([]),'initializeAccount');LAYOUT.addVariant(7,BufferLayout.struct([BufferLayout.nu64('amount')]),'mintTo');LAYOUT.addVariant(8,BufferLayout.struct([BufferLayout.nu64('amount')]),'burn');LAYOUT.addVariant(9,BufferLayout.struct([]),'closeAccount');LAYOUT.addVariant(12,BufferLayout.struct([BufferLayout.nu64('amount'),BufferLayout.u8('decimals')]),'transferChecked');var instructionMaxSpan=Math.max.apply(Math,_toConsumableArray(Object.values(LAYOUT.registry).map(function(r){return r.span;})));function encodeTokenInstructionData(instruction){var b=Buffer.alloc(instructionMaxSpan);var span=LAYOUT.encode(instruction,b);return b.slice(0,span);}export function initializeMint(_ref){var mint=_ref.mint,decimals=_ref.decimals,mintAuthority=_ref.mintAuthority,freezeAuthority=_ref.freezeAuthority;var keys=[{pubkey:mint,isSigner:false,isWritable:true},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:false,isWritable:false}];return new TransactionInstruction({keys:keys,data:encodeTokenInstructionData({initializeMint:{decimals:decimals,mintAuthority:mintAuthority.toBuffer(),freezeAuthorityOption:!!freezeAuthority,freezeAuthority:(freezeAuthority||PublicKey.default).toBuffer()}}),programId:TOKEN_PROGRAM_ID});}export function initializeAccount(_ref2){var account=_ref2.account,mint=_ref2.mint,owner=_ref2.owner;var keys=[{pubkey:account,isSigner:false,isWritable:true},{pubkey:mint,isSigner:false,isWritable:false},{pubkey:owner,isSigner:false,isWritable:false},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:false,isWritable:false}];return new TransactionInstruction({keys:keys,data:encodeTokenInstructionData({initializeAccount:{}}),programId:TOKEN_PROGRAM_ID});}export function transferChecked(_ref3){var source=_ref3.source,mint=_ref3.mint,destination=_ref3.destination,amount=_ref3.amount,decimals=_ref3.decimals,owner=_ref3.owner;var keys=[{pubkey:source,isSigner:false,isWritable:true},{pubkey:mint,isSigner:false,isWritable:false},{pubkey:destination,isSigner:false,isWritable:true},{pubkey:owner,isSigner:true,isWritable:false}];return new TransactionInstruction({keys:keys,data:encodeTokenInstructionData({transferChecked:{amount:amount,decimals:decimals}}),programId:TOKEN_PROGRAM_ID});}export function mintTo(_ref4){var mint=_ref4.mint,destination=_ref4.destination,amount=_ref4.amount,mintAuthority=_ref4.mintAuthority;var keys=[{pubkey:mint,isSigner:false,isWritable:true},{pubkey:destination,isSigner:false,isWritable:true},{pubkey:mintAuthority,isSigner:true,isWritable:false}];return new TransactionInstruction({keys:keys,data:encodeTokenInstructionData({mintTo:{amount:amount}}),programId:TOKEN_PROGRAM_ID});}export function closeAccount(_ref5){var source=_ref5.source,destination=_ref5.destination,owner=_ref5.owner;var keys=[{pubkey:source,isSigner:false,isWritable:true},{pubkey:destination,isSigner:false,isWritable:true},{pubkey:owner,isSigner:true,isWritable:false}];return new TransactionInstruction({keys:keys,data:encodeTokenInstructionData({closeAccount:{}}),programId:TOKEN_PROGRAM_ID});}export function memoInstruction(memo){return new TransactionInstruction({keys:[],data:Buffer.from(memo,'utf-8'),programId:MEMO_PROGRAM_ID});}var PublicKeyLayout=/*#__PURE__*/function(_BufferLayout$Blob){_inherits(PublicKeyLayout,_BufferLayout$Blob);var _super=_createSuper(PublicKeyLayout);function PublicKeyLayout(property){_classCallCheck(this,PublicKeyLayout);return _super.call(this,32,property);}_createClass(PublicKeyLayout,[{key:\"decode\",value:function decode(b,offset){return new PublicKey(_get(_getPrototypeOf(PublicKeyLayout.prototype),\"decode\",this).call(this,b,offset));}},{key:\"encode\",value:function encode(src,b,offset){return _get(_getPrototypeOf(PublicKeyLayout.prototype),\"encode\",this).call(this,src.toBuffer(),b,offset);}}]);return PublicKeyLayout;}(BufferLayout.Blob);function publicKeyLayout(property){return new PublicKeyLayout(property);}export var OWNER_VALIDATION_PROGRAM_ID=new PublicKey('4MNPdKu9wFMvEeZBMt3Eipfs5ovVWTJb31pEXDJAAxX5');export var OWNER_VALIDATION_LAYOUT=BufferLayout.struct([publicKeyLayout('account')]);export function encodeOwnerValidationInstruction(instruction){var b=Buffer.alloc(OWNER_VALIDATION_LAYOUT.span);var span=OWNER_VALIDATION_LAYOUT.encode(instruction,b);return b.slice(0,span);}export function assertOwner(_ref6){var account=_ref6.account,owner=_ref6.owner;var keys=[{pubkey:account,isSigner:false,isWritable:false}];return new TransactionInstruction({keys:keys,data:encodeOwnerValidationInstruction({account:owner}),programId:OWNER_VALIDATION_PROGRAM_ID});}","map":{"version":3,"sources":["/Users/jalcantara/Desktop/SOL-dev/tanda-wallet-sol/src/utils/tokens/instructions.js"],"names":["BufferLayout","PublicKey","SYSVAR_RENT_PUBKEY","TransactionInstruction","TOKEN_PROGRAM_ID","WRAPPED_SOL_MINT","MEMO_PROGRAM_ID","LAYOUT","union","u8","addVariant","struct","blob","nu64","instructionMaxSpan","Math","max","Object","values","registry","map","r","span","encodeTokenInstructionData","instruction","b","Buffer","alloc","encode","slice","initializeMint","mint","decimals","mintAuthority","freezeAuthority","keys","pubkey","isSigner","isWritable","data","toBuffer","freezeAuthorityOption","default","programId","initializeAccount","account","owner","transferChecked","source","destination","amount","mintTo","closeAccount","memoInstruction","memo","from","PublicKeyLayout","property","offset","src","Blob","publicKeyLayout","OWNER_VALIDATION_PROGRAM_ID","OWNER_VALIDATION_LAYOUT","encodeOwnerValidationInstruction","assertOwner"],"mappings":"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","sourcesContent":["import * as BufferLayout from 'buffer-layout';\nimport {\n  PublicKey,\n  SYSVAR_RENT_PUBKEY,\n  TransactionInstruction,\n} from '@solana/web3.js';\n\nexport const TOKEN_PROGRAM_ID = new PublicKey(\n  'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',\n);\n\nexport const WRAPPED_SOL_MINT = new PublicKey(\n  'So11111111111111111111111111111111111111112',\n);\n\nexport const MEMO_PROGRAM_ID = new PublicKey(\n  'Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo',\n);\n\nconst LAYOUT = BufferLayout.union(BufferLayout.u8('instruction'));\nLAYOUT.addVariant(\n  0,\n  BufferLayout.struct([\n    BufferLayout.u8('decimals'),\n    BufferLayout.blob(32, 'mintAuthority'),\n    BufferLayout.u8('freezeAuthorityOption'),\n    BufferLayout.blob(32, 'freezeAuthority'),\n  ]),\n  'initializeMint',\n);\nLAYOUT.addVariant(1, BufferLayout.struct([]), 'initializeAccount');\nLAYOUT.addVariant(\n  7,\n  BufferLayout.struct([BufferLayout.nu64('amount')]),\n  'mintTo',\n);\nLAYOUT.addVariant(\n  8,\n  BufferLayout.struct([BufferLayout.nu64('amount')]),\n  'burn',\n);\nLAYOUT.addVariant(9, BufferLayout.struct([]), 'closeAccount');\nLAYOUT.addVariant(\n  12,\n  BufferLayout.struct([BufferLayout.nu64('amount'), BufferLayout.u8('decimals')]),\n  'transferChecked',\n);\n\nconst instructionMaxSpan = Math.max(\n  ...Object.values(LAYOUT.registry).map((r) => r.span),\n);\n\nfunction encodeTokenInstructionData(instruction) {\n  let b = Buffer.alloc(instructionMaxSpan);\n  let span = LAYOUT.encode(instruction, b);\n  return b.slice(0, span);\n}\n\nexport function initializeMint({\n  mint,\n  decimals,\n  mintAuthority,\n  freezeAuthority,\n}) {\n  let keys = [\n    { pubkey: mint, isSigner: false, isWritable: true },\n    { pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false },\n  ];\n  return new TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      initializeMint: {\n        decimals,\n        mintAuthority: mintAuthority.toBuffer(),\n        freezeAuthorityOption: !!freezeAuthority,\n        freezeAuthority: (freezeAuthority || PublicKey.default).toBuffer(),\n      },\n    }),\n    programId: TOKEN_PROGRAM_ID,\n  });\n}\n\nexport function initializeAccount({ account, mint, owner }) {\n  let keys = [\n    { pubkey: account, isSigner: false, isWritable: true },\n    { pubkey: mint, isSigner: false, isWritable: false },\n    { pubkey: owner, isSigner: false, isWritable: false },\n    { pubkey: SYSVAR_RENT_PUBKEY, isSigner: false, isWritable: false },\n  ];\n  return new TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      initializeAccount: {},\n    }),\n    programId: TOKEN_PROGRAM_ID,\n  });\n}\n\nexport function transferChecked({ source, mint, destination, amount, decimals, owner }) {\n  let keys = [\n    { pubkey: source, isSigner: false, isWritable: true },\n    { pubkey: mint, isSigner: false, isWritable: false },\n    { pubkey: destination, isSigner: false, isWritable: true },\n    { pubkey: owner, isSigner: true, isWritable: false },\n  ];\n  return new TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      transferChecked: { amount, decimals },\n    }),\n    programId: TOKEN_PROGRAM_ID,\n  });\n}\n\nexport function mintTo({ mint, destination, amount, mintAuthority }) {\n  let keys = [\n    { pubkey: mint, isSigner: false, isWritable: true },\n    { pubkey: destination, isSigner: false, isWritable: true },\n    { pubkey: mintAuthority, isSigner: true, isWritable: false },\n  ];\n  return new TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      mintTo: {\n        amount,\n      },\n    }),\n    programId: TOKEN_PROGRAM_ID,\n  });\n}\n\nexport function closeAccount({ source, destination, owner }) {\n  const keys = [\n    { pubkey: source, isSigner: false, isWritable: true },\n    { pubkey: destination, isSigner: false, isWritable: true },\n    { pubkey: owner, isSigner: true, isWritable: false },\n  ];\n  return new TransactionInstruction({\n    keys,\n    data: encodeTokenInstructionData({\n      closeAccount: {},\n    }),\n    programId: TOKEN_PROGRAM_ID,\n  });\n}\n\nexport function memoInstruction(memo) {\n  return new TransactionInstruction({\n    keys: [],\n    data: Buffer.from(memo, 'utf-8'),\n    programId: MEMO_PROGRAM_ID,\n  });\n}\n\nclass PublicKeyLayout extends BufferLayout.Blob {\n  constructor(property) {\n    super(32, property);\n  }\n\n  decode(b, offset) {\n    return new PublicKey(super.decode(b, offset));\n  }\n\n  encode(src, b, offset) {\n    return super.encode(src.toBuffer(), b, offset);\n  }\n}\n\nfunction publicKeyLayout(property) {\n  return new PublicKeyLayout(property);\n}\n\nexport const OWNER_VALIDATION_PROGRAM_ID = new PublicKey(\n  '4MNPdKu9wFMvEeZBMt3Eipfs5ovVWTJb31pEXDJAAxX5',\n);\n\nexport const OWNER_VALIDATION_LAYOUT = BufferLayout.struct([\n  publicKeyLayout('account'),\n]);\n\nexport function encodeOwnerValidationInstruction(instruction) {\n  const b = Buffer.alloc(OWNER_VALIDATION_LAYOUT.span);\n  const span = OWNER_VALIDATION_LAYOUT.encode(instruction, b);\n  return b.slice(0, span);\n}\n\nexport function assertOwner({ account, owner }) {\n  const keys = [{ pubkey: account, isSigner: false, isWritable: false }];\n  return new TransactionInstruction({\n    keys,\n    data: encodeOwnerValidationInstruction({ account: owner }),\n    programId: OWNER_VALIDATION_PROGRAM_ID,\n  });\n}\n"]},"metadata":{},"sourceType":"module"}